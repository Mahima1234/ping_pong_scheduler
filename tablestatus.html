<!DOCTYPE html>
<!-- index of webpage -->
<html>
<head>
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <script src="https://www.gstatic.com/firebasejs/4.1.2/firebase.js"></script>
  <script>
  var config = {
    apiKey: "AIzaSyDDrze4WIGeBYuyl_Y7RhmISYm_zGUz4OU",
    authDomain: "ping-pong-scheduler-1dd4f.firebaseapp.com",
    databaseURL: "https://ping-pong-scheduler-1dd4f.firebaseio.com",
    projectId: "ping-pong-scheduler-1dd4f",
    storageBucket: "ping-pong-scheduler-1dd4f.appspot.com",
    messagingSenderId: "290287324381"
  };
  firebase.initializeApp(config);
  </script>
  <script>
  
      var detailsRef = firebase.database().ref("details/")
      var ref = firebase.database().ref();

      ref.on("value", function(snapshot) {
         displayNewTime(snapshot.val());
      }, function (error) {
         console.log("Error: " + error.code);
      });

    var displayNewTime= function(data){
      console.log(data);
      var hour = data.details.hour;
      var minutes = data.details.min;
      var time = data.details.time;
      var checkforzero =false;
minutes = minutes +time
 if(minutes >= 60){
  hour++;
  minutes = minutes % 60;
}if(time==0){
  checkforzero=true;
}
      if(checkforzero==false){
        if (hour>12){
          hour=hour-12;
        }else{
          hour=hour;
        }
        if(minutes<10){
          var newTime =hour+":0"+minutes
          document.getElementById("endTime").innerHTML=newTime;
           document.getElementById("table").style.display="";
         
        }else{
        var newTime= hour+":"+minutes;
        document.getElementById("endTime").innerHTML=newTime;
         document.getElementById("table").style.display="";}
      }else{
          document.getElementById("endTime").innerHTML="Table Is Open";
          document.getElementById("table").style.display="none";
      }
    }
    var updateDivTagContent= function(id,content){
    var x =document.getElementById(id);
     x.innerHTML = content;
  };
  var createTag= function(){
    var startTime=displayNewTime();
    updateDivTagContent("endTime", startTime);
  }
  </script>
</head>
<body >
<h1 id="table"> Table Will Be Open At</h1>
<div id="endTime">
</div>
</body>
<html>